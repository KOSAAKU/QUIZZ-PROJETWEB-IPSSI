<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Entreprise - Quizzeo</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    <h1>Dashboard Entreprise</h1>
    
    <nav>
        <a href="/">Accueil</a>
        <a href="/logout.html">Déconnexion</a>
    </nav>
    
    <hr>
    
    <h2>Gestion des Collaborateurs</h2>
    
    <h3>Ajouter un collaborateur</h3>
    <form method="POST" action="/company/employees/add">
        <label for="emp-name">Nom complet :</label>
        <input type="text" id="emp-name" name="fullname" required>
        <br><br>
        
        <label for="emp-email">Email :</label>
        <input type="email" id="emp-email" name="email" required>
        <br><br>
        
        <label for="emp-password">Mot de passe :</label>
        <input type="password" id="emp-password" name="password" required>
        <br><br>
        
        <label for="emp-department">Département :</label>
        <input type="text" id="emp-department" name="department" placeholder="ex: RH, IT, Ventes" required>
        <br><br>
        
        <label for="emp-role">Rôle :</label>
        <select id="emp-role" name="role" required>
            <option value="">-- Sélectionner --</option>
            <option value="employe">Employé</option>
            <option value="manager">Manager</option>
            <option value="formateur">Formateur</option>
        </select>
        <br><br>
        
        <button type="submit">Ajouter le collaborateur</button>
    </form>
    
    <h3>Liste des collaborateurs</h3>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nom</th>
                <th>Email</th>
                <th>Département</th>
                <th>Rôle</th>
                <th>Date d'ajout</th>
                <th>Statut</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    
    <hr>
    
    <h2>Création de Quiz</h2>
    
    <h3>Créer un nouveau quiz</h3>
    <form method="POST" action="/company/quizzes/add">
        <label for="quiz-title">Titre du quiz :</label>
        <input type="text" id="quiz-title" name="title" required>
        <br><br>
        
        <label for="quiz-theme">Thème :</label>
        <input type="text" id="quiz-theme" name="theme" placeholder="ex: Formation, Compliance, Sécurité" required>
        <br><br>
        
        <label for="quiz-type">Type de quiz :</label>
        <select id="quiz-type" name="type" required>
            <option value="">-- Sélectionner --</option>
            <option value="qcm">QCM (Choix multiples)</option>
            <option value="libre">Réponses libres</option>
            <option value="mixte">Mixte (QCM + Réponses libres)</option>
        </select>
        <br><br>
        
        <label for="quiz-department">Département cible :</label>
        <input type="text" id="quiz-department" name="department" placeholder="ex: Tous, IT, RH">
        <br><br>
        
        <label for="quiz-description">Description :</label>
        <textarea id="quiz-description" name="description" rows="3" cols="50" placeholder="Objectifs et contenu du quiz"></textarea>
        <br><br>
        
        <label for="quiz-difficulty">Niveau de difficulté :</label>
        <select id="quiz-difficulty" name="difficulty" required>
            <option value="">-- Sélectionner --</option>
            <option value="debutant">Débutant</option>
            <option value="intermediaire">Intermédiaire</option>
            <option value="avance">Avancé</option>
        </select>
        <br><br>
        
        <label for="quiz-duration">Durée (en minutes) :</label>
        <input type="number" id="quiz-duration" name="duration" min="1" placeholder="ex: 45">
        <br><br>
        
        <label for="quiz-obligatoire">Obligatoire pour les collaborateurs :</label>
        <select id="quiz-obligatoire" name="mandatory" required>
            <option value="">-- Sélectionner --</option>
            <option value="oui">Oui</option>
            <option value="non">Non</option>
        </select>
        <br><br>
        
        <button type="submit">Créer le quiz</button>
    </form>
    
    <h3>Liste des quiz</h3>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Titre</th>
                <th>Type</th>
                <th>Département</th>
                <th>Nb Questions</th>
                <th>Obligatoire</th>
                <th>Date de création</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    
    <hr>
    
    <h2>Gestion des Questions</h2>
    
    <h3>Ajouter une question à un quiz</h3>
    <form method="POST" action="/company/questions/add">
        <label for="question-quiz">Sélectionner un quiz :</label>
        <select id="question-quiz" name="quiz_id" required>
            <option value="">-- Choisir un quiz --</option>
        </select>
        <br><br>
        
        <label for="question-text">Énoncé de la question :</label>
        <textarea id="question-text" name="text" rows="2" cols="50" required></textarea>
        <br><br>
        
        <label for="question-type">Type de question :</label>
        <select id="question-type" name="type" required>
            <option value="">-- Sélectionner --</option>
            <option value="qcm">QCM</option>
            <option value="libre">Réponse libre</option>
        </select>
        <br><br>
        
        <button type="submit">Ajouter la question</button>
    </form>
    
    <hr>
    
    <h2>Résultats et Performances</h2>
    
    <h3>Voir les résultats</h3>
    <table border="1">
        <thead>
            <tr>
                <th>Collaborateur</th>
                <th>Quiz</th>
                <th>Score</th>
                <th>Statut</th>
                <th>Date de réalisation</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    
    <h3>Assigner un quiz à des collaborateurs</h3>
    <form method="POST" action="/company/assignments/add">
        <label for="assign-quiz">Quiz :</label>
        <select id="assign-quiz" name="quiz_id" required>
            <option value="">-- Choisir un quiz --</option>
        </select>
        <br><br>
        
        <label for="assign-employees">Collaborateurs :</label>
        <select id="assign-employees" name="employee_ids" multiple required>
            <option value="">-- Sélectionner les collaborateurs --</option>
        </select>
        <br><br>
        
        <label for="assign-deadline">Date limite (optionnel) :</label>
        <input type="date" id="assign-deadline" name="deadline">
        <br><br>
        
        <button type="submit">Assigner</button>
    </form>
    
    <hr>
    
    <h2>Statistiques</h2>
    <ul>
        <li>Nombre de collaborateurs : <strong id="total-employees">0</strong></li>
        <li>Quiz créés : <strong id="total-quizzes">0</strong></li>
        <li>Quiz complétés : <strong id="completed-quizzes">0</strong></li>
        <li>Taux de réussite moyen : <strong id="average-score">-</strong>%</li>
        <li>Quiz en attente : <strong id="pending-quizzes">0</strong></li>
    </ul>
    
    <hr>
    
    <h2>Paramètres</h2>
    <ul>
        <li><a href="/company/settings">Paramètres de l'entreprise</a></li>
        <li><a href="/company/export-results">Exporter les résultats</a></li>
        <li><a href="/company/reports">Rapports</a></li>
        <li><a href="/company/activity-log">Journal d'activité</a></li>
    </ul>
    
    <hr>
    
    <footer>
        <p>Dashboard Entreprise - Quizzeo &copy; 2025</p>
    </footer>
</body>
</html>